(function(t){function e(e){for(var n,s,a=e[0],l=e[1],c=e[2],d=0,m=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,a=1;a<o.length;a++){var l=o[a];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/pulkovo/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("5a8b");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("List"),o("Add")],1)},r=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("header",[o("button",{on:{click:t.Create}},[t._v("Create")]),o("button",{on:{click:t.Sort}},[t._v(" Sort "),t.sorting?o("span",[t._v("↧")]):null===t.sorting?o("span"):o("span",[t._v("↥")])])]),o("ul",t._l(t.storeList,(function(t){return o("Item",{key:t.title,attrs:{element:t}})})),1)])},a=[],l=(o("d81d"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"todo"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.element.checked,expression:"element.checked"}],staticClass:"todo__checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.element.checked)?t._i(t.element.checked,null)>-1:t.element.checked},on:{change:function(e){var o=t.element.checked,n=e.target,i=!!n.checked;if(Array.isArray(o)){var r=null,s=t._i(o,r);n.checked?s<0&&t.$set(t.element,"checked",o.concat([r])):s>-1&&t.$set(t.element,"checked",o.slice(0,s).concat(o.slice(s+1)))}else t.$set(t.element,"checked",i)}}}),o("div",{class:["todo__text",{"todo__text--checked":t.element.checked}]},[o("h3",{staticClass:"todo__title"},[t._v(t._s(t.element.title))]),o("p",{staticClass:"todo__desc"},[t._v(t._s(t.element.desc))]),o("span",{staticClass:"todo__date"},[t._v("Created: "+t._s(t.DateToLocaleString(t.element.date)))]),o("span",{staticClass:"todo__date"},[t._v("Due: "+t._s(t.DateToLocaleString(t.element.dueDate)))])]),o("div",{staticClass:"todo__actions"},[o("button",{on:{click:function(e){return t.Edit(t.element)}}},[t._v("Edit")]),o("button",{on:{click:function(e){return t.Remove(t.element.title)}}},[t._v("Remove")])])])}),c=[],u={props:{element:{type:Object,default:function(){}}},methods:{Remove:function(t){this.$store.commit("removeListItem",t)},Edit:function(t){this.$store.commit("updateProxy",t),this.$store.commit("toggleModal")},DateToLocaleString:function(t){if(t)return t.toLocaleString("RU-ru")}}},d=u,m=(o("9894"),o("2877")),f=Object(m["a"])(d,l,c,!1,null,null,null),p=f.exports,h={components:{Item:p},data:function(){return{sorting:null}},computed:{storeList:function(){return this.$store.state.list.list}},watch:{storeList:function(){localStorage.list=JSON.stringify(this.storeList)}},mounted:function(){if(!this.storelist||0===this.storeList.length){var t=this.ParseJSON(localStorage.list);this.$store.commit("assignList",t)}},methods:{Sort:function(){this.$store.commit("sortList",this.sorting),this.sorting=!this.sorting},ParseJSON:function(t){var e=JSON.parse(t);return e.map((function(t){return t.date=new Date(t.date),t.dueDate=new Date(t.dueDate),t}))},Create:function(){this.$store.commit("resetProxy"),this.$store.commit("toggleModal")}}},v=h,_=Object(m["a"])(v,s,a,!1,null,null,null),b=_.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"form__wrapper"},[o("button",{staticClass:"form__close",on:{click:t.Close}},[t._v("X")]),o("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.Submit(e)}}},[o("label",{staticClass:"form__field"},[t._v(" Title "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.formFields.title,expression:"formFields.title"}],staticClass:"form__input",attrs:{type:"text",placeholder:"Type in title",required:""},domProps:{value:t.formFields.title},on:{input:function(e){e.target.composing||t.$set(t.formFields,"title",e.target.value)}}})]),o("label",{staticClass:"form__field"},[t._v(" Description "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formFields.desc,expression:"formFields.desc"}],staticClass:"form__input",attrs:{placeholder:"Add a description"},domProps:{value:t.formFields.desc},on:{input:function(e){e.target.composing||t.$set(t.formFields,"desc",e.target.value)}}})]),o("label",{staticClass:"form__field"},[t._v(" Due Date "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.formFields.dueDate,expression:"formFields.dueDate"}],staticClass:"form__input",attrs:{type:"datetime-local"},domProps:{value:t.formFields.dueDate},on:{input:function(e){e.target.composing||t.$set(t.formFields,"dueDate",e.target.value)}}})]),o("label",{staticClass:"form__field"},[t._v(" Priority "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.formFields.priority,expression:"formFields.priority"}],staticClass:"form__input",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formFields,"priority",e.target.multiple?o:o[0])}}},t._l(t.priorityRange,(function(e,n){return o("option",{key:e,domProps:{value:n}},[t._v(" "+t._s(e)+" ")])})),0)]),o("button",{staticClass:"form__field form__submit",attrs:{type:"submit"}},[t._v("Add")])])])},y=[],w=o("5530"),x=(o("fb6a"),{props:{item:{type:Object,default:null}},data:function(){return{priorityRange:["none","low","medium","high"],formFields:{title:"",desc:"",priority:0,dueDate:null},showForm:!0}},computed:{proxy:function(){return this.$store.state.proxy.proxy},showModal:function(){return this.$store.state.modal.show}},watch:{proxy:function(t){this.formFields=Object(w["a"])(Object(w["a"])({},this.formFields),t),t.dueDate&&(this.formFields.dueDate=this.ParseDateToString(t.dueDate))}},mounted:function(){console.log("I would recommend to use Chrome in order to use whole possibilites of native datepicker")},methods:{Submit:function(){var t=this.formFields.dueDate;this.$store.commit("updateList",Object(w["a"])(Object(w["a"])({},this.formFields),{},{dueDate:t?new Date(t):null})),this.$store.commit("resetProxy"),this.Close()},ParseDateToString:function(t){if(t){var e=new Date(t);e.setHours(t.getHours()+3);var o=e.toISOString();return o.slice(0,-1)}return null},Close:function(){this.$store.commit("toggleModal")}}}),D=x,k=(o("91a1"),Object(m["a"])(D,g,y,!1,null,null,null)),O=k.exports,C={name:"App",components:{List:b,Add:O}},S=C,$=(o("034f"),Object(m["a"])(S,i,r,!1,null,null,null)),j=$.exports,F=o("2f62"),P=function(){return{proxy:{title:"",desc:"",date:null,dueDate:null,priority:0,checked:!1}}},L={updateProxy:function(t,e){t.proxy=Object(w["a"])(Object(w["a"])({},t.proxy),e)},resetProxy:function(t){t.proxy={title:"",desc:"",date:null,dueDate:null,priority:0,checked:!1}}},M={state:P,mutations:L},A=o("2909"),N=(o("c740"),o("4de4"),function(){return{list:[{title:"write app",desc:"to-do list with descriptions",date:new Date(2021,3,25,12,0,0),dueDate:new Date(2021,3,27,12,0,0),priority:3,checked:!1},{title:"new to-dos",desc:"come up with new list elements",date:new Date(2021,3,25,12,1,0),dueDate:null,priority:2,checked:!1}]}}),T={updateList:function(t,e){var o=t.list.findIndex((function(t){var o=t.title;return o===e.title}));o>-1?(t.list[o]=Object(w["a"])(Object(w["a"])({},t.list[o]),e),t.list=Object(A["a"])(t.list)):t.list.push(e)},removeListItem:function(t,e){t.list=t.list.filter((function(t){var o=t.title;return o!==e}))},sortList:function(t,e){t.list.sort((function(t,o){var n=t.title.toLowerCase(),i=o.title.toLowerCase(),r=n<i?-1:1;return e?-1*r:r}))},assignList:function(t,e){t.list=e}},E={state:N,mutations:T},I=function(){return{show:!1}},J={toggleModal:function(t){t.show=!t.show}},R={state:I,mutations:J};n["a"].use(F["a"]);var H=new F["a"].Store({modules:{proxy:M,list:E,modal:R}});n["a"].config.productionTip=!1,new n["a"]({store:H,render:function(t){return t(j)}}).$mount("#app")},"5a8b":function(t,e,o){},"85ec":function(t,e,o){},"91a1":function(t,e,o){"use strict";o("b07b")},9894:function(t,e,o){"use strict";o("d434")},b07b:function(t,e,o){},d434:function(t,e,o){}});
//# sourceMappingURL=app.78ee8ef6.js.map